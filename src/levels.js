import { generateNewEnemies } from './enemy.js'

const generateLevels = () => {
  const layouts = generateLayouts()
  return layouts.map(layout => makeLevel(layout))
}

const makeLevel = layout => {
  const level = layout.map((row, y) => row.map((type, x) => ({ type, x, y })))
  return {
    layout: level,
    enemies: generateNewEnemies(level, 2)
  }
}

const generateLayouts = () => ([[
  ['n', 'h', 'h', 'h', 'n', 'h', 'h', 'h', 'n', '.', '.', '.', '.'],
  ['v', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['e', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['.', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['n', 'h', 'h', 'h', 'n', 'h', 'h', 'h', 'n', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['n', 'h', 'h', 'h', 'n', 'h', 'n', 'h', 'n', 'h', 'n', '.', '.'],
  ['.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', '.'],
  ['.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', 'd'],
  ['.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', 'v', '.', 'v'],
  ['.', '.', '.', '.', '.', '.', 'n', 'h', 'h', 'h', 'n', 'h', 'n'],
],[
  ['n', 'h', 'n', 'h', 'h', 'h', 'n', 'h', 'h', 'h', 'h', 'h', 'c'],
  ['v', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.', '.', '.'],
  ['v', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.', '.', '.'],
  ['v', '.', 'v', '.', '.', '.', 'v', '.', '.', '.', '.', '.', '.'],
  ['n', 'h', 'n', 'h', 'h', 'h', 'n', 'h', 'n', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['v', '.', '.', '.', '.', '.', '.', '.', 'v', '.', '.', '.', '.'],
  ['n', 'h', 'h', 'h', 'n', 'h', 'h', 'h', 'n', 'h', 'n', '.', '.'],
  ['.', '.', '.', '.', 'v', '.', '.', '.', '.', '.', 'v', '.', '.'],
  ['.', '.', '.', '.', 'v', '.', '.', '.', '.', '.', 'v', '.', 'u'],
  ['.', '.', '.', '.', 'v', '.', '.', '.', '.', '.', 'v', '.', 'v'],
  ['.', '.', '.', '.', 'n', 'h', 'h', 'h', 'h', 'h', 'n', 'h', 'n'],
]])

export {
  generateLevels
}
